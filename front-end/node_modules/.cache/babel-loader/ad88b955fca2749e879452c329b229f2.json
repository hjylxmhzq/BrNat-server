{"ast":null,"code":"import _slicedToArray from\"/Users/tonyhu/Documents/codes/node-frp/front-end/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import connectIco from\"./connect.svg\";import'./App.css';import{Modal,Input,Tooltip,Button,message}from'antd';import{UserOutlined,QuestionOutlined,EyeInvisibleOutlined,EyeOutlined}from'@ant-design/icons';import browser from'browser-detect';import{useEffect,useState}from'react';var browserInfo=browser();function App(){var _useState=useState(''),_useState2=_slicedToArray(_useState,2),token=_useState2[0],changeToken=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),showToken=_useState4[0],toggleToken=_useState4[1];var _useState5=useState(true),_useState6=_slicedToArray(_useState5,2),showModal=_useState6[0],toggleModal=_useState6[1];var _useState7=useState(''),_useState8=_slicedToArray(_useState7,2),username=_useState8[0],changeUsername=_useState8[1];var _useState9=useState(false),_useState10=_slicedToArray(_useState9,2),submitted=_useState10[0],changeSubmitStatus=_useState10[1];console.log(showModal);useEffect(function(){setTimeout(function(){changeToken('eiAF1312huaifhASDFewh6u');},200);},[]);function getNewToken(){fetch('/getmytoken',{method:'POST',body:JSON.stringify({user:username}),headers:{'content-type':'application/json'}}).then(function(response){return response.json();}).then(function(content){changeToken(content.data.token);changeSubmitStatus(true);});}function onSubmitUsername(){console.log(username);if(username){toggleModal(false);getNewToken();}else{message.info('用户名不能为空');}}return/*#__PURE__*/_jsxs(\"div\",{className:\"App\",children:[/*#__PURE__*/_jsxs(Modal,{title:\"\\u53EA\\u9700\\u4E00\\u6B65\",style:{top:20},visible:showModal,footer:[/*#__PURE__*/_jsx(Button,{type:\"primary\",onClick:onSubmitUsername,children:\"\\u786E\\u8BA4\"},\"submit\")],children:[/*#__PURE__*/_jsxs(\"p\",{children:[\"\\u8BF7\\u8F93\\u5165\\u4F60\\u60F3\\u4F7F\\u7528\\u7684\\u7528\\u6237\\u540D\\uFF0C\\u8FD9\\u5C06\\u4F5C\\u4E3A\\u4F60\\u7684\",/*#__PURE__*/_jsx(Tooltip,{title:\"\\u8FD9\\u662F\\u533A\\u5206\\u4F60\\u4E0E\\u5176\\u5B83\\u7528\\u6237\\u7684\\u6807\\u8BC6\",arrowPointAtCenter:true,children:/*#__PURE__*/_jsx(\"strong\",{children:\"\\u8FDE\\u63A5\\u6807\\u8BC6\"})})]}),/*#__PURE__*/_jsx(Input,{placeholder:\"\\u7528\\u6237\\u540D\",prefix:/*#__PURE__*/_jsx(UserOutlined,{}),onChange:function onChange(e){return changeUsername(e.target.value);},value:username})]}),/*#__PURE__*/_jsxs(\"header\",{className:\"App-header\",children:[/*#__PURE__*/_jsx(\"img\",{src:connectIco,className:\"App-logo\",alt:\"logo\"}),submitted?/*#__PURE__*/_jsxs(\"p\",{className:\"token-title\",children:[\"\\u4F60\\u7684 Token\",/*#__PURE__*/_jsx(Tooltip,{title:\"token\\u662F\\u521B\\u5EFA\\u4E0E\\u670D\\u52A1\\u5668\\u8FDE\\u63A5\\u7684\\u51ED\\u636E\",arrowPointAtCenter:true,children:/*#__PURE__*/_jsx(QuestionOutlined,{style:{fontSize:'10px',color:'#08c',verticalAlign:'top'}})}),\"\\u5DF2\\u521B\\u5EFA\\uFF1A\",showToken?token:'**********',showToken?/*#__PURE__*/_jsx(EyeOutlined,{style:{fontSize:'12px',color:'#08c',verticalAlign:'top',paddingLeft:5,cursor:'pointer'},onClick:function onClick(){return toggleToken(!showToken);}}):/*#__PURE__*/_jsx(EyeInvisibleOutlined,{style:{fontSize:'12px',color:'#08c',verticalAlign:'top',paddingLeft:5,cursor:'pointer'},onClick:function onClick(){return toggleToken(!showToken);}})]}):/*#__PURE__*/_jsx(\"p\",{className:\"token-title\",children:\"Token \\u672A\\u521B\\u5EFA\\uFF0C\\u8BF7\\u5148\\u8BBE\\u7F6E\\u7528\\u6237\\u540D\"}),/*#__PURE__*/_jsxs(\"p\",{className:\"os-name\",children:[\"\\u64CD\\u4F5C\\u7CFB\\u7EDF\\uFF1A\",browserInfo.os,/*#__PURE__*/_jsx(\"a\",{className:\"other-versions\",children:\"\\u5176\\u5B83\\u7248\\u672C\"})]}),/*#__PURE__*/_jsx(\"a\",{className:\"App-link\",href:browserInfo.os.toLowerCase().includes('win')?\"/assets/Easy-Online Client Setup 0.0.1.exe\":\"/assets/Easy-Online Client-0.0.1.dmg\",target:\"_blank\",rel:\"noopener noreferrer\",children:browserInfo.mobile?'不支持移动端操作系统':'开始使用'})]})]});}export default App;","map":{"version":3,"sources":["/Users/tonyhu/Documents/codes/node-frp/front-end/src/App.js"],"names":["Modal","Input","Tooltip","Button","message","UserOutlined","QuestionOutlined","EyeInvisibleOutlined","EyeOutlined","browser","useEffect","useState","browserInfo","App","token","changeToken","showToken","toggleToken","showModal","toggleModal","username","changeUsername","submitted","changeSubmitStatus","console","log","setTimeout","getNewToken","fetch","method","body","JSON","stringify","user","headers","then","response","json","content","data","onSubmitUsername","info","top","e","target","value","connectIco","fontSize","color","verticalAlign","paddingLeft","cursor","os","toLowerCase","includes","mobile"],"mappings":"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","sourcesContent":["import connectIco from './connect.svg';\nimport './App.css';\nimport { Modal, Input, Tooltip, Button, message } from 'antd';\nimport { UserOutlined, QuestionOutlined, EyeInvisibleOutlined, EyeOutlined } from '@ant-design/icons';\nimport browser from 'browser-detect';\nimport { useEffect, useState } from 'react';\n\nconst browserInfo = browser();\nfunction App() {\n  const [token, changeToken] = useState('');\n  const [showToken, toggleToken] = useState(false);\n  const [showModal, toggleModal] = useState(true);\n  const [username, changeUsername] = useState('');\n  const [submitted, changeSubmitStatus] = useState(false);\n  console.log(showModal)\n  useEffect(function () {\n    setTimeout(() => {\n      changeToken('eiAF1312huaifhASDFewh6u');\n    }, 200);\n  }, []);\n  function getNewToken() {\n    fetch('/getmytoken', {\n      method: 'POST', body: JSON.stringify({ user: username }), headers: {\n        'content-type': 'application/json'\n      },\n    }).then(response => {\n      return response.json();\n    }).then(content => {\n      changeToken(content.data.token);\n      changeSubmitStatus(true);\n    })\n  }\n  function onSubmitUsername() {\n    console.log(username)\n    if (username) {\n      toggleModal(false);\n      getNewToken();\n    } else {\n      message.info('用户名不能为空');\n    }\n  }\n  return (\n    <div className=\"App\">\n      <Modal\n        title=\"只需一步\"\n        style={{ top: 20 }}\n        visible={showModal}\n        footer={[\n          <Button key=\"submit\" type=\"primary\" onClick={onSubmitUsername}>\n            确认\n          </Button>,\n        ]}\n      >\n        <p>请输入你想使用的用户名，这将作为你的<Tooltip title=\"这是区分你与其它用户的标识\" arrowPointAtCenter><strong>连接标识</strong></Tooltip></p>\n        <Input placeholder=\"用户名\" prefix={<UserOutlined />} onChange={e => changeUsername(e.target.value)} value={username} />\n      </Modal>\n      <header className=\"App-header\">\n        <img src={connectIco} className=\"App-logo\" alt=\"logo\" />\n        {\n          submitted ? <p className=\"token-title\">\n            你的 Token\n          <Tooltip title=\"token是创建与服务器连接的凭据\" arrowPointAtCenter>\n              <QuestionOutlined style={{ fontSize: '10px', color: '#08c', verticalAlign: 'top' }} />\n            </Tooltip>\n          已创建：{showToken ? token : '**********'}\n            {\n              showToken ?\n                <EyeOutlined\n                  style={{ fontSize: '12px', color: '#08c', verticalAlign: 'top', paddingLeft: 5, cursor: 'pointer' }}\n                  onClick={() => toggleToken(!showToken)} />\n                : <EyeInvisibleOutlined\n                  style={{ fontSize: '12px', color: '#08c', verticalAlign: 'top', paddingLeft: 5, cursor: 'pointer' }}\n                  onClick={() => toggleToken(!showToken)} />\n            }\n          </p> : <p className=\"token-title\">\n              Token 未创建，请先设置用户名\n            </p>\n        }\n\n        <p className=\"os-name\">操作系统：{browserInfo.os}<a className=\"other-versions\">其它版本</a></p>\n        <a\n          className=\"App-link\"\n          href={browserInfo.os.toLowerCase().includes('win') ?\n            \"/assets/Easy-Online Client Setup 0.0.1.exe\" :\n            \"/assets/Easy-Online Client-0.0.1.dmg\"}\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          {browserInfo.mobile ? '不支持移动端操作系统' : '开始使用'}\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}