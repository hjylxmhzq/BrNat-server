{"ast":null,"code":"import { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nvar _jsxFileName = \"/Users/tonyhu/Documents/codes/node-frp/front-end/src/App.js\",\n    _s = $RefreshSig$();\n\nimport connectIco from \"./connect.svg\";\nimport './App.css';\nimport { Modal, Input, Tooltip, Button, message } from 'antd';\nimport { UserOutlined, QuestionOutlined, EyeInvisibleOutlined, EyeOutlined } from '@ant-design/icons';\nimport browser from 'browser-detect';\nimport { useEffect, useState } from 'react';\nimport { ipcMain } from 'electron';\nipcMain.on('asynchronous-message', (event, arg) => {\n  console.log(arg); // prints \"ping\"\n\n  event.reply('asynchronous-reply', 'pong');\n});\nipcMain.on('synchronous-message', (event, arg) => {\n  console.log(arg); // prints \"ping\"\n\n  event.returnValue = 'pong';\n});\n\nfunction App() {\n  _s();\n\n  const [token, changeToken] = useState('');\n  const [showToken, toggleToken] = useState(false);\n  const [showModal, toggleModal] = useState(true);\n  const [username, changeUsername] = useState('');\n  const [submitted, changeSubmitStatus] = useState(false);\n  console.log(showModal);\n  useEffect(function () {\n    setTimeout(() => {\n      changeToken('eiAF1312huaifhASDFewh6u');\n    }, 200);\n  }, []);\n\n  function getNewToken() {\n    fetch('/getmytoken', {\n      method: 'POST',\n      body: JSON.stringify({\n        user: username\n      }),\n      headers: {\n        'content-type': 'application/json'\n      }\n    }).then(response => {\n      return response.json();\n    }).then(content => {\n      changeToken(content.data.token);\n      changeSubmitStatus(true);\n    });\n  }\n\n  function onSubmitUsername() {\n    console.log(username);\n\n    if (username) {\n      toggleModal(false);\n      getNewToken();\n    } else {\n      message.info('用户名不能为空');\n    }\n  }\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: [/*#__PURE__*/_jsxDEV(Modal, {\n      title: \"\\u53EA\\u9700\\u4E00\\u6B65\",\n      style: {\n        top: 20\n      },\n      visible: showModal,\n      footer: [/*#__PURE__*/_jsxDEV(Button, {\n        type: \"primary\",\n        onClick: onSubmitUsername,\n        children: \"\\u786E\\u8BA4\"\n      }, \"submit\", false, {\n        fileName: _jsxFileName,\n        lineNumber: 61,\n        columnNumber: 11\n      }, this)],\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: [\"\\u8BF7\\u8F93\\u5165\\u4F60\\u60F3\\u4F7F\\u7528\\u7684\\u7528\\u6237\\u540D\\uFF0C\\u8FD9\\u5C06\\u4F5C\\u4E3A\\u4F60\\u7684\", /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"\\u8FD9\\u662F\\u533A\\u5206\\u4F60\\u4E0E\\u5176\\u5B83\\u7528\\u6237\\u7684\\u6807\\u8BC6\",\n          arrowPointAtCenter: true,\n          children: /*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u8FDE\\u63A5\\u6807\\u8BC6\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 80\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 66,\n          columnNumber: 30\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 66,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Input, {\n        placeholder: \"\\u7528\\u6237\\u540D\",\n        prefix: /*#__PURE__*/_jsxDEV(UserOutlined, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 42\n        }, this),\n        onChange: e => changeUsername(e.target.value),\n        value: username\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 67,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 56,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"header\", {\n      className: \"App-header\",\n      children: [/*#__PURE__*/_jsxDEV(\"img\", {\n        src: connectIco,\n        className: \"App-logo\",\n        alt: \"logo\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 70,\n        columnNumber: 9\n      }, this), submitted ? /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"token-title\",\n        children: [\"\\u4F60\\u7684 Token\", /*#__PURE__*/_jsxDEV(Tooltip, {\n          title: \"token\\u662F\\u521B\\u5EFA\\u4E0E\\u670D\\u52A1\\u5668\\u8FDE\\u63A5\\u7684\\u51ED\\u636E\",\n          arrowPointAtCenter: true,\n          children: /*#__PURE__*/_jsxDEV(QuestionOutlined, {\n            style: {\n              fontSize: '10px',\n              color: '#08c',\n              verticalAlign: 'top'\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 75,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 74,\n          columnNumber: 11\n        }, this), \"\\u5DF2\\u521B\\u5EFA\\uFF1A\", showToken ? token : '**********', showToken ? /*#__PURE__*/_jsxDEV(EyeOutlined, {\n          style: {\n            fontSize: '12px',\n            color: '#08c',\n            verticalAlign: 'top',\n            paddingLeft: 5,\n            cursor: 'pointer'\n          },\n          onClick: () => toggleToken(!showToken)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 17\n        }, this) : /*#__PURE__*/_jsxDEV(EyeInvisibleOutlined, {\n          style: {\n            fontSize: '12px',\n            color: '#08c',\n            verticalAlign: 'top',\n            paddingLeft: 5,\n            cursor: 'pointer'\n          },\n          onClick: () => toggleToken(!showToken)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 19\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 72,\n        columnNumber: 23\n      }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"token-title\",\n        children: \"Token \\u672A\\u521B\\u5EFA\\uFF0C\\u8BF7\\u5148\\u8BBE\\u7F6E\\u7528\\u6237\\u540D\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 87,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"os-name\",\n        children: [\"\\u64CD\\u4F5C\\u7CFB\\u7EDF\\uFF1A\", browser().os, /*#__PURE__*/_jsxDEV(\"a\", {\n          className: \"other-versions\",\n          children: \"\\u5176\\u5B83\\u7248\\u672C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 92,\n          columnNumber: 51\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 92,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"a\", {\n        className: \"App-link\",\n        href: \"https://reactjs.org\",\n        target: \"_blank\",\n        rel: \"noopener noreferrer\",\n        children: \"\\u5F00\\u59CB\\u4F7F\\u7528\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 93,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 55,\n    columnNumber: 5\n  }, this);\n}\n\n_s(App, \"OHonSP1oxn82yjFNlRxkMq89Kuo=\");\n\n_c = App;\nexport default App;\n\nvar _c;\n\n$RefreshReg$(_c, \"App\");","map":{"version":3,"sources":["/Users/tonyhu/Documents/codes/node-frp/front-end/src/App.js"],"names":["Modal","Input","Tooltip","Button","message","UserOutlined","QuestionOutlined","EyeInvisibleOutlined","EyeOutlined","browser","useEffect","useState","ipcMain","on","event","arg","console","log","reply","returnValue","App","token","changeToken","showToken","toggleToken","showModal","toggleModal","username","changeUsername","submitted","changeSubmitStatus","setTimeout","getNewToken","fetch","method","body","JSON","stringify","user","headers","then","response","json","content","data","onSubmitUsername","info","top","e","target","value","connectIco","fontSize","color","verticalAlign","paddingLeft","cursor","os"],"mappings":";;;;;;AACA,OAAO,WAAP;AACA,SAASA,KAAT,EAAgBC,KAAhB,EAAuBC,OAAvB,EAAgCC,MAAhC,EAAwCC,OAAxC,QAAuD,MAAvD;AACA,SAASC,YAAT,EAAuBC,gBAAvB,EAAyCC,oBAAzC,EAA+DC,WAA/D,QAAkF,mBAAlF;AACA,OAAOC,OAAP,MAAoB,gBAApB;AACA,SAASC,SAAT,EAAoBC,QAApB,QAAoC,OAApC;AACA,SAASC,OAAT,QAAwB,UAAxB;AAGAA,OAAO,CAACC,EAAR,CAAW,sBAAX,EAAmC,CAACC,KAAD,EAAQC,GAAR,KAAgB;AACjDC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADiD,CAChC;;AACjBD,EAAAA,KAAK,CAACI,KAAN,CAAY,oBAAZ,EAAkC,MAAlC;AACD,CAHD;AAKAN,OAAO,CAACC,EAAR,CAAW,qBAAX,EAAkC,CAACC,KAAD,EAAQC,GAAR,KAAgB;AAChDC,EAAAA,OAAO,CAACC,GAAR,CAAYF,GAAZ,EADgD,CAC/B;;AACjBD,EAAAA,KAAK,CAACK,WAAN,GAAoB,MAApB;AACD,CAHD;;AAMA,SAASC,GAAT,GAAe;AAAA;;AACb,QAAM,CAACC,KAAD,EAAQC,WAAR,IAAuBX,QAAQ,CAAC,EAAD,CAArC;AACA,QAAM,CAACY,SAAD,EAAYC,WAAZ,IAA2Bb,QAAQ,CAAC,KAAD,CAAzC;AACA,QAAM,CAACc,SAAD,EAAYC,WAAZ,IAA2Bf,QAAQ,CAAC,IAAD,CAAzC;AACA,QAAM,CAACgB,QAAD,EAAWC,cAAX,IAA6BjB,QAAQ,CAAC,EAAD,CAA3C;AACA,QAAM,CAACkB,SAAD,EAAYC,kBAAZ,IAAkCnB,QAAQ,CAAC,KAAD,CAAhD;AACAK,EAAAA,OAAO,CAACC,GAAR,CAAYQ,SAAZ;AACAf,EAAAA,SAAS,CAAC,YAAY;AACpBqB,IAAAA,UAAU,CAAC,MAAM;AACfT,MAAAA,WAAW,CAAC,yBAAD,CAAX;AACD,KAFS,EAEP,GAFO,CAAV;AAGD,GAJQ,EAIN,EAJM,CAAT;;AAKA,WAASU,WAAT,GAAuB;AACrBC,IAAAA,KAAK,CAAC,aAAD,EAAgB;AACnBC,MAAAA,MAAM,EAAE,MADW;AACHC,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAe;AAAEC,QAAAA,IAAI,EAAEX;AAAR,OAAf,CADH;AACuCY,MAAAA,OAAO,EAAE;AACjE,wBAAgB;AADiD;AADhD,KAAhB,CAAL,CAIGC,IAJH,CAIQC,QAAQ,IAAI;AAClB,aAAOA,QAAQ,CAACC,IAAT,EAAP;AACD,KAND,EAMGF,IANH,CAMQG,OAAO,IAAI;AACjBrB,MAAAA,WAAW,CAACqB,OAAO,CAACC,IAAR,CAAavB,KAAd,CAAX;AACAS,MAAAA,kBAAkB,CAAC,IAAD,CAAlB;AACD,KATD;AAUD;;AACD,WAASe,gBAAT,GAA4B;AAC1B7B,IAAAA,OAAO,CAACC,GAAR,CAAYU,QAAZ;;AACA,QAAIA,QAAJ,EAAc;AACZD,MAAAA,WAAW,CAAC,KAAD,CAAX;AACAM,MAAAA,WAAW;AACZ,KAHD,MAGO;AACL5B,MAAAA,OAAO,CAAC0C,IAAR,CAAa,SAAb;AACD;AACF;;AACD,sBACE;AAAK,IAAA,SAAS,EAAC,KAAf;AAAA,4BACE,QAAC,KAAD;AACE,MAAA,KAAK,EAAC,0BADR;AAEE,MAAA,KAAK,EAAE;AAAEC,QAAAA,GAAG,EAAE;AAAP,OAFT;AAGE,MAAA,OAAO,EAAEtB,SAHX;AAIE,MAAA,MAAM,EAAE,cACN,QAAC,MAAD;AAAqB,QAAA,IAAI,EAAC,SAA1B;AAAoC,QAAA,OAAO,EAAEoB,gBAA7C;AAAA;AAAA,SAAY,QAAZ;AAAA;AAAA;AAAA;AAAA,cADM,CAJV;AAAA,8BAUE;AAAA,gJAAqB,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,gFAAf;AAA+B,UAAA,kBAAkB,MAAjD;AAAA,iCAAkD;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAlD;AAAA;AAAA;AAAA;AAAA,gBAArB;AAAA;AAAA;AAAA;AAAA;AAAA,cAVF,eAWE,QAAC,KAAD;AAAO,QAAA,WAAW,EAAC,oBAAnB;AAAyB,QAAA,MAAM,eAAE,QAAC,YAAD;AAAA;AAAA;AAAA;AAAA,gBAAjC;AAAmD,QAAA,QAAQ,EAAEG,CAAC,IAAIpB,cAAc,CAACoB,CAAC,CAACC,MAAF,CAASC,KAAV,CAAhF;AAAkG,QAAA,KAAK,EAAEvB;AAAzG;AAAA;AAAA;AAAA;AAAA,cAXF;AAAA;AAAA;AAAA;AAAA;AAAA,YADF,eAcE;AAAQ,MAAA,SAAS,EAAC,YAAlB;AAAA,8BACE;AAAK,QAAA,GAAG,EAAEwB,UAAV;AAAsB,QAAA,SAAS,EAAC,UAAhC;AAA2C,QAAA,GAAG,EAAC;AAA/C;AAAA;AAAA;AAAA;AAAA,cADF,EAGItB,SAAS,gBAAG;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA,sDAEZ,QAAC,OAAD;AAAS,UAAA,KAAK,EAAC,+EAAf;AAAmC,UAAA,kBAAkB,MAArD;AAAA,iCACI,QAAC,gBAAD;AAAkB,YAAA,KAAK,EAAE;AAAEuB,cAAAA,QAAQ,EAAE,MAAZ;AAAoBC,cAAAA,KAAK,EAAE,MAA3B;AAAmCC,cAAAA,aAAa,EAAE;AAAlD;AAAzB;AAAA;AAAA;AAAA;AAAA;AADJ;AAAA;AAAA;AAAA;AAAA,gBAFY,8BAKP/B,SAAS,GAAGF,KAAH,GAAW,YALb,EAORE,SAAS,gBACP,QAAC,WAAD;AACE,UAAA,KAAK,EAAE;AAAE6B,YAAAA,QAAQ,EAAE,MAAZ;AAAoBC,YAAAA,KAAK,EAAE,MAA3B;AAAmCC,YAAAA,aAAa,EAAE,KAAlD;AAAyDC,YAAAA,WAAW,EAAE,CAAtE;AAAyEC,YAAAA,MAAM,EAAE;AAAjF,WADT;AAEE,UAAA,OAAO,EAAE,MAAMhC,WAAW,CAAC,CAACD,SAAF;AAF5B;AAAA;AAAA;AAAA;AAAA,gBADO,gBAIL,QAAC,oBAAD;AACA,UAAA,KAAK,EAAE;AAAE6B,YAAAA,QAAQ,EAAE,MAAZ;AAAoBC,YAAAA,KAAK,EAAE,MAA3B;AAAmCC,YAAAA,aAAa,EAAE,KAAlD;AAAyDC,YAAAA,WAAW,EAAE,CAAtE;AAAyEC,YAAAA,MAAM,EAAE;AAAjF,WADP;AAEA,UAAA,OAAO,EAAE,MAAMhC,WAAW,CAAC,CAACD,SAAF;AAF1B;AAAA;AAAA;AAAA;AAAA,gBAXI;AAAA;AAAA;AAAA;AAAA;AAAA,cAAH,gBAeF;AAAG,QAAA,SAAS,EAAC,aAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAlBX,eAuBE;AAAG,QAAA,SAAS,EAAC,SAAb;AAAA,qDAA6Bd,OAAO,GAAGgD,EAAvC,eAA0C;AAAG,UAAA,SAAS,EAAC,gBAAb;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,gBAA1C;AAAA;AAAA;AAAA;AAAA;AAAA,cAvBF,eAwBE;AACE,QAAA,SAAS,EAAC,UADZ;AAEE,QAAA,IAAI,EAAC,qBAFP;AAGE,QAAA,MAAM,EAAC,QAHT;AAIE,QAAA,GAAG,EAAC,qBAJN;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,cAxBF;AAAA;AAAA;AAAA;AAAA;AAAA,YAdF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAkDD;;GAnFQrC,G;;KAAAA,G;AAqFT,eAAeA,GAAf","sourcesContent":["import connectIco from './connect.svg';\nimport './App.css';\nimport { Modal, Input, Tooltip, Button, message } from 'antd';\nimport { UserOutlined, QuestionOutlined, EyeInvisibleOutlined, EyeOutlined } from '@ant-design/icons';\nimport browser from 'browser-detect';\nimport { useEffect, useState } from 'react';\nimport { ipcMain } from 'electron';\n\n\nipcMain.on('asynchronous-message', (event, arg) => {\n  console.log(arg) // prints \"ping\"\n  event.reply('asynchronous-reply', 'pong')\n})\n\nipcMain.on('synchronous-message', (event, arg) => {\n  console.log(arg) // prints \"ping\"\n  event.returnValue = 'pong'\n})\n\n\nfunction App() {\n  const [token, changeToken] = useState('');\n  const [showToken, toggleToken] = useState(false);\n  const [showModal, toggleModal] = useState(true);\n  const [username, changeUsername] = useState('');\n  const [submitted, changeSubmitStatus] = useState(false);\n  console.log(showModal)\n  useEffect(function () {\n    setTimeout(() => {\n      changeToken('eiAF1312huaifhASDFewh6u');\n    }, 200);\n  }, []);\n  function getNewToken() {\n    fetch('/getmytoken', {\n      method: 'POST', body: JSON.stringify({ user: username }), headers: {\n        'content-type': 'application/json'\n      },\n    }).then(response => {\n      return response.json();\n    }).then(content => {\n      changeToken(content.data.token);\n      changeSubmitStatus(true);\n    })\n  }\n  function onSubmitUsername() {\n    console.log(username)\n    if (username) {\n      toggleModal(false);\n      getNewToken();\n    } else {\n      message.info('用户名不能为空');\n    }\n  }\n  return (\n    <div className=\"App\">\n      <Modal\n        title=\"只需一步\"\n        style={{ top: 20 }}\n        visible={showModal}\n        footer={[\n          <Button key=\"submit\" type=\"primary\" onClick={onSubmitUsername}>\n            确认\n          </Button>,\n        ]}\n      >\n        <p>请输入你想使用的用户名，这将作为你的<Tooltip title=\"这是区分你与其它用户的标识\" arrowPointAtCenter><strong>连接标识</strong></Tooltip></p>\n        <Input placeholder=\"用户名\" prefix={<UserOutlined />} onChange={e => changeUsername(e.target.value)} value={username} />\n      </Modal>\n      <header className=\"App-header\">\n        <img src={connectIco} className=\"App-logo\" alt=\"logo\" />\n        {\n          submitted ? <p className=\"token-title\">\n            你的 Token\n          <Tooltip title=\"token是创建与服务器连接的凭据\" arrowPointAtCenter>\n              <QuestionOutlined style={{ fontSize: '10px', color: '#08c', verticalAlign: 'top' }} />\n            </Tooltip>\n          已创建：{showToken ? token : '**********'}\n            {\n              showToken ?\n                <EyeOutlined\n                  style={{ fontSize: '12px', color: '#08c', verticalAlign: 'top', paddingLeft: 5, cursor: 'pointer' }}\n                  onClick={() => toggleToken(!showToken)} />\n                : <EyeInvisibleOutlined\n                  style={{ fontSize: '12px', color: '#08c', verticalAlign: 'top', paddingLeft: 5, cursor: 'pointer' }}\n                  onClick={() => toggleToken(!showToken)} />\n            }\n          </p> : <p className=\"token-title\">\n              Token 未创建，请先设置用户名\n            </p>\n        }\n\n        <p className=\"os-name\">操作系统：{browser().os}<a className=\"other-versions\">其它版本</a></p>\n        <a\n          className=\"App-link\"\n          href=\"https://reactjs.org\"\n          target=\"_blank\"\n          rel=\"noopener noreferrer\"\n        >\n          开始使用\n        </a>\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n"]},"metadata":{},"sourceType":"module"}